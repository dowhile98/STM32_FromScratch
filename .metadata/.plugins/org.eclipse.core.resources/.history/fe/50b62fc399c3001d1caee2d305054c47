/*
 * delay.c
 *
 *  Created on: 15 mar. 2023
 *      Author: jeffr
 */


#include "delay.h"




void SysTickInit(void){
	uint32_t temp;
	//1. deshabilitar el conteo de la systick
	SysTick->CTRL &=~ SysTick_CTRL_ENABLE_Msk;
	//2. configurar el valor del registro reload
	SystemCoreClockUpdate();
	temp = SystemCoreClock / 1000 - 1;
	SysTick->LOAD = temp;
	//3. Configuras el registro de control y habilitas el conteo
	SysTick->CTRL |= SysTick_CTRL_CLKSOURCE_Msk; 			//system core clock
	SysTick->CTRL |= SysTick_CTRL_ENABLE_Msk;				//habilita el conteo
	return;
}
